参考q1的思路c内容，对于各个板的位置还是采用q1c的画圈找点

然后加入对碰撞的考量

首先，在300s的时候肯定还没有发生碰撞

所以在300s开始，以1s为步长，每前进一次，就进行一次位置估算，然后呢进行碰撞评估，如果没有碰撞就继续前进

最后，在遇到碰撞的时候，采用二分逼近的方法，回退，找到刚好没有碰撞的位置

碰撞估计的方法：

在获得了各个板的位置之后，对于每块板，将其占用的空间进行着色（如果，如果结果中存在碰撞点，检查是不是相邻两个，如果不是，就是发生了碰撞

---

实现细则（对应 q2c.py）：

## 1. 复用 q1 核心算法
- **螺线模型**: 等距螺线 r = bθ，其中 b = 0.55/(2π)
- **弧长参数化**: S(θ) = (b/2)[θ√(1+θ²) + asinh(θ)]
- **"画圆找交点"**: 从龙头前把手开始，依次通过欧氏距离 = 板长约束求各把手位置
- **速度传递**: 投影关系 v_i(T_i·U_i) = v_{i+1}(T_{i+1}·U_i) 逐节传递

## 2. 时间推进策略
**从 t₀ = 300s 开始前进**：
- 粗步长：Δt = 1s，快速找到碰撞区间 [t_safe, t_collide]
- 二分逼近：在碰撞区间内用二分法逼近临界时刻，精度 1e-3 s
- 保护机制：若龙头到达螺线中心(θ≈0)仍无碰撞，则返回该时刻

## 3. 碰撞检测方法（改进版）
**板凳几何建模**：
- 每块板由两个把手点确定：点 i 到点 i+1
- 中心线：把手连线两端各外伸 END_EXT = 0.275m（孔心到板端距离）
- 板宽：垂直中心线方向 ±BOARD_HALF_W = 0.15m

**矩形顶点计算**：
设把手点为 P₀(x₀,y₀)、P₁(x₁,y₁)，则：
- 中心线方向：û = (x₁-x₀, y₁-y₀)/|P₁-P₀|
- 垂直方向：v̂ = (-û_y, û_x)（左手系）
- 外伸端点：A = P₀ - 0.275û，B = P₁ + 0.275û
- 四个顶点：
  - 左下：A + 0.15v̂
  - 右下：B + 0.15v̂  
  - 右上：B - 0.15v̂
  - 左上：A - 0.15v̂

**点在矩形内判断（面积法）**：
对点 P 和矩形顶点 [V₁,V₂,V₃,V₄]：
- 矩形面积：S_rect = Area(V₁V₂V₃) + Area(V₁V₃V₄)
- 四个三角形面积：S₁ = Area(PV₁V₂)，S₂ = Area(PV₂V₃)，S₃ = Area(PV₃V₄)，S₄ = Area(PV₄V₁)
- 判断条件：|S₁+S₂+S₃+S₄ - S_rect| < ε （ε=1e-9）

三角形面积公式（叉积法）：
Area(P₁P₂P₃) = |x₁(y₂-y₃) + x₂(y₃-y₁) + x₃(y₁-y₂)|/2

**碰撞判定逻辑**：
```
FOR i = 0 to 222:  # 遍历所有板
    rect_i = get_rectangle(board_i)
    FOR vertex in rect_i的四个顶点:
        FOR j = 0 to 222:
            IF |j-i| <= 1: CONTINUE  # 跳过相邻板
            rect_j = get_rectangle(board_j)
            IF point_in_rectangle(vertex, rect_j):
                RETURN True  # 发生碰撞
RETURN False
```

## 4. 数值实现要点
**时间反解**：
- 由弧长 S(t) = S₀ - v_head × t 求龙头参数 θ(t)
- 牛顿法 + 二分夹持确保稳定性

**链条生成**：
- 龙头板长：L_head = 3.41 - 0.55 = 2.86m
- 龙身/尾板长：L_body = 2.20 - 0.55 = 1.65m
- 顺序：[龙头前] → [第1-221节龙身前] → [龙尾前] → [龙尾后]

**相邻板处理**：
- 相邻板共享把手点，几何上必然相切，不判定为碰撞
- 距离约束：|j-i| ≤ 1 时跳过碰撞检查

## 5. 输出格式
- **result2.xlsx**：终止时刻所有把手的 (t,index,name,x,y,vx,vy,speed)
- **result_q2_tables.xlsx**：论文摘要表，包含：
  - position表：龙头、第1/51/101/151/201节龙身、龙尾后的 x,y 坐标
  - speed表：对应对象的速度大小
  - 数值精度：保留6位小数

## 6. 算法复杂度与优化
- 时间复杂度：O(n²) 每次碰撞检查，其中 n=223（板数）
- 空间复杂度：O(n) 存储把手位置与板顶点
- 优化策略：
  - 粗步长快速定位碰撞区间
  - 二分法高精度逼近
  - 相邻板跳过减少无效计算